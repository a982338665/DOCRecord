<!DOCTYPE html>
<html>
<head>
    <title>套餐订购管理</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport' />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" media='all' type="text/css" href="../../../webpage/css/bootstrap.css">
	<link rel="stylesheet" media='all' type="text/css" href="../../../webpage/css/jquery.fileupload-ui.css">
	<link rel="stylesheet" media='all' type="text/css" href="../../../webpage/css/light-theme.css">
	<link rel="stylesheet" media='all' type="text/css" href="../../../webpage/css/demo.css">
	
    <style type="text/css">
        .table th, .table td{
            text-align: center;
            vertical-align: middle;
        }
        .form-horizontal .control-label{
            width: 100px;
        }
        .table .btn{
            width: 20px;
            height: 20px;
            line-height: 20px;
            padding: 0;
        }
        .form-horizontal font{
            padding: 5px;
            display: inline-block;
        }
        .quantity span,.quantity input{
            height: 30px;
            line-height: 30px;
            display: block;
            float: left;
            font-size: 18px;
            text-align: center;
            background: #fff;
            padding: 0;
        }
        .quantity span{
            width: 30px;
            border: 1px solid #ccc;
            border-radius: 2px 0 0 2px;
            cursor:pointer;
        }
        .quantity span:hover{
            background: #e9e8e3;
        }
        .quantity span.plus {
            border-radius: 0 2px 2px 0;
        }
        .quantity input{
            border-left: 0;
            border-right: 0;
            width: 110px;
            font-size: 14px;
        }
    </style>
</head>
<body class='contrast-red'>
<!-- top -->
<header>
    
</header>

<div id='wrapper'>
    <!-- left -->
    <div id='main-nav-bg'></div>
    <nav class='' id='main-nav'>
        
    </nav>
    <!-- right -->
    <section id='content'>
        <div class='container-fluid'>
            <div class='row-fluid' id='content-wrapper'>
                <div class='span12'>
                    <div class="page-header form-horizontal">
                        <select data-rule-required="true" id='ds' name="validation_select">
                            <option>地市</option>
                           
                        </select>
                        <select data-rule-required="true" id="qx" name="validation_select">
                            <option>区县</option>
                            
                        </select>
                        <select data-rule-required="true" id="school" name="validation_select">
                            <option>学校</option>
                            
                        </select>
                        <select data-rule-required="true" id="schoolStage" name="validation_select">
                            <option>学段</option>
                            
                        </select>
                        <select data-rule-required="true" id="gradenum" name="validation_select">
                            <option>年级</option>
                           
                        </select>
                        <select data-rule-required="true" id="class" name="validation_select">
                            <option>班级</option>
                            
                        </select>
                        
                    </div>
                     <div class="page-header form-horizontal">
                     <input id="inputText1" placeholder="手机/号用户名/ii号" type="text">
                        <button id="cstc" class="btn" type="button">查询</button>
                     </div>
                    <div style="margin-bottom: 20px; text-align: right;">
                        <a id='pldg'   class="btn btn-success"><span id='pldgs'>批量订购</span></a>
                        <a id='pltd1'  class="btn btn-success">批量退订</a>
                    </div>
                    <div class="row-fluid">
                        <div class="span12 box bordered-box blue-border" style="margin-bottom:0;">
                            <div class="box-content box-no-padding">
                                <div class="responsive-table">
                                    <table class="table" style="margin-bottom:0;">
                                        <thead>
                                            <tr>
                                                <th><input id="checkall" type="checkbox"/></th>
                                                <th>姓名</th>
                                                <th>性别</th>
                                                <th>角色</th>
                                                <th>家长手机号</th>
                                                <th>套餐状态</th>
                                                <th>套餐剩余时间(天)</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<!-- 弹窗 -->
<div class='modal hide fade' id='details' role='dialog' tabindex='-1'>
    <div class='modal-header'>
        <button id="xx1" class='close' data-dismiss='modal' type='button' onclick="gd()">&times;</button>
        <h3>变更套餐</h3>
    </div>
    <div class='modal-body'>
        <form class='form' style='margin-bottom: 0;' >
            <div class='form-horizontal'>
                <div class="control-group">
                    <label class='control-label'>套餐名称：</label>
                    <select id="packageX">
                        
                    </select>
                </div>
            </div>
            <div id='pTime' class='form-horizontal'>
                <div class="control-group">
                    <label class='control-label'>套餐时间：</label>
                    <div class="quantity">
                        <span class="subtract">-</span>
                        <input id='time1' type="text"  onblur='quantity(this)' autocomplete="off" value="1" />
                        <span class="plus">+</span>
                    </div>
                    <font>个月</font>
                    <span class="text-red"></span>
                </div>
            </div>
        </form>
    </div>
    <div class='modal-footer'>
        <button id='sub' class='btn btn-success'>确定</button>
        <button id='xxx1' class='btn' data-dismiss='modal' type="button" onclick="gd()">关闭</button>
    </div>
</div>
<!-- / jquery -->
<script type="text/javascript" src="../../../webpage/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="../../../webpage/js/mobile_events/jquery.mobile-events.min.js"></script>
<script type="text/javascript" src="../../../webpage/js/jquery-ui.min.js"></script>
<script type="text/javascript" src="../../../webpage/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../../webpage/js/iv2tools.js"></script>

<script type="text/javascript" src="js/packageOrder.js"></script>

<!-- <script src='assets/javascripts/theme.js' type='text/javascript'></script> -->
<script type="text/javascript">
    //全选
    $(function () {
        $("#checkall").click(function () {
            $("input[name='idMobile']").prop("checked", this.checked);
        });
        $("input[name='idMobile']").click(function () {
            var $subs = $("input[name='idMobile']");
            $("#checkall").prop("checked", $subs.length == $subs.filter(":checked").length ? true : false);
        });
    });

    // 加减人数
        function quantity(_this) {
            var persons = _this.value;
            var patrn = /[^\d]/;
            var span = $(_this).parents('.quantity').siblings('span');
            if(persons == ''){
                span.html('月数不得为空！');
            }else if(persons == 0){
                _this.value = ''
                span.html('月数不得少于1月！');
            }else if(persons.match(patrn)){
                _this.value = ''
                span.html('月能输入正整数！');
            }else{
                span.html('');
            };
        };
        $(".subtract").on('click',function () {
            var num = parseInt($(this).siblings('input').val());
            var span = $(this).parents('.quantity').siblings('span');
            if(num > 1){
                $(this).siblings('input').val(num-1);
                span.html('');
            }else if ($(this).siblings('input').val() == '') {
                $(this).siblings('input').val(1);
                span.html('');
            }else{
                span.html('月数不得少于1月！');
                return false;
            };
        });
        $(".plus").on('click',function () {
            var num = parseInt($(this).siblings('input').val());
            var span = $(this).parents('.quantity').siblings('span');
            if ($(this).siblings('input').val() == '') {
                $(this).siblings('input').val(1);
                span.html('');
            }else{
                $(this).siblings('input').val(num+1);
                span.html('');
            };
        });
</script>
</body>
</html>
