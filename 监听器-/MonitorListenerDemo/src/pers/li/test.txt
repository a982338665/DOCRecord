G:\apache-tomcat-7.0.11\bin\catalina.bat run
[2018-05-02 09:43:23,021] Artifact MonitorListenerDemo:war exploded: Waiting for server connection to start artifact deployment...
Using CATALINA_BASE:   "D:\bgtidea\.IntelliJIdea\system\tomcat\Unnamed_MonitorListenerDemo"
Using CATALINA_HOME:   "G:\apache-tomcat-7.0.11"
Using CATALINA_TMPDIR: "G:\apache-tomcat-7.0.11\temp"
Using JRE_HOME:        "C:\Program Files\Java\jdk1.7.0_51"
Using CLASSPATH:       "G:\apache-tomcat-7.0.11\bin\bootstrap.jar;G:\apache-tomcat-7.0.11\bin\tomcat-juli.jar"
Connected to the target VM, address: 'javadebug', transport: 'shared memory'
五月 02, 2018 9:43:23 上午 org.apache.catalina.core.AprLifecycleListener init
信息: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\Program Files\Java\jdk1.7.0_51\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Program Files (x86)\Common Files\Oracle\Java\javapath;H:\oracle\product\10.2.0\db_1\bin;C:\Program Files\Java\jdk1.7.0_51\bin;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;D:\Program Files\TortoiseSVN\bin;D:\Program Files\MySQL\MySQL Server 5.7\bin;E:\song.guan.xin\dev-ide\Java\jdk1.7.0_67\bin;E:\song.guan.xin\Android\android-sdk-windows\platform-tools;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;D:\Program Files\Microsoft SQL Server\110\DTS\Binn\;D:\Program Files (x86)\Microsoft SQL Server\110\Tools\Binn\;D:\Program Files\Microsoft SQL Server\110\Tools\Binn\;D:\Program Files (x86)\Microsoft SQL Server\110\Tools\Binn\ManagementStudio\;C:\Program Files (x86)\Microsoft Visual Studio 10.0\Common7\IDE\PrivateAssemblies\;D:\Program Files (x86)\Microsoft SQL Server\110\DTS\Binn\;C:\Program Files (x86)\Windows Kits\8.1\Windows Performance Toolkit\;D:\Sqlite;G:\maven-3.3.9\bin;F:\apache-ant-1.10.1\bin;C:\Program Files (x86)\nodejs\;G:\Git\cmd;H:\svn_n\bin;H:\redis;C:\Users\cjh\AppData\Local\Programs\Python\Python36-32\Scripts\;C:\Users\cjh\AppData\Local\Programs\Python\Python36-32\;D:\Program Files (x86)\SSH Communications Security\SSH Secure Shell;C:\Program Files (x86)\SSH Communications Security\SSH Secure Shell;C:\Users\cjh\AppData\Local\Microsoft\WindowsApps;F:\apache-ant-1.10.1\bin;C:\Users\cjh\AppData\Roaming\npm;C:\Users\cjh\Desktop\studyDay\redis;;.
五月 02, 2018 9:43:24 上午 org.apache.coyote.AbstractProtocolHandler init
信息: Initializing ProtocolHandler ["http-bio-8080"]
五月 02, 2018 9:43:24 上午 org.apache.coyote.AbstractProtocolHandler init
信息: Initializing ProtocolHandler ["ajp-bio-8009"]
五月 02, 2018 9:43:24 上午 org.apache.catalina.startup.Catalina load
信息: Initialization processed in 584 ms
五月 02, 2018 9:43:24 上午 org.apache.catalina.core.StandardService startInternal
信息: Starting service Catalina
五月 02, 2018 9:43:24 上午 org.apache.catalina.core.StandardEngine startInternal
信息: Starting Servlet Engine: Apache Tomcat/7.0.11
五月 02, 2018 9:43:24 上午 org.apache.coyote.AbstractProtocolHandler start
信息: Starting ProtocolHandler ["http-bio-8080"]
五月 02, 2018 9:43:24 上午 org.apache.coyote.AbstractProtocolHandler start
信息: Starting ProtocolHandler ["ajp-bio-8009"]
五月 02, 2018 9:43:24 上午 org.apache.catalina.startup.Catalina start
信息: Server startup in 40 ms
Connected to server
[2018-05-02 09:43:24,591] Artifact MonitorListenerDemo:war exploded: Artifact is being deployed, please wait...
servletContext_attributeAdded———————name
初始化开始————————————————————————————————————————————————————imooc
[2018-05-02 09:43:25,158] Artifact MonitorListenerDemo:war exploded: Artifact is deployed successfully
[2018-05-02 09:43:25,158] Artifact MonitorListenerDemo:war exploded: Deploy took 567 milliseconds
五月 02, 2018 9:43:34 上午 org.apache.catalina.startup.HostConfig deployDirectory
信息: Deploying web application directory manager
request初始化——————————————————————————————null
ServletRequest_attributeAdded———————org.apache.catalina.ASYNC_SUPPORTED
servletContext_attributeAdded———————org.apache.jasper.runtime.JspApplicationContextImpl
session创建————————————
request销毁——————————————————————————————
request初始化——————————————————————————————null
ServletRequest_attributeAdded———————org.apache.catalina.ASYNC_SUPPORTED
ServletRequest_attributeAdded———————requestName
HttpSession_attributeAdded———————sessionName
servletContext_attributeAdded———————contextName
request销毁——————————————————————————————
request初始化——————————————————————————————null
ServletRequest_attributeAdded———————org.apache.catalina.ASYNC_SUPPORTED
ServletRequest_attributeAdded———————requestName
HttpSession_attributeReplaced———————sessionName
servletContext_attributeReplaced—————contextName
request销毁——————————————————————————————
request初始化——————————————————————————————null
ServletRequest_attributeAdded———————org.apache.catalina.ASYNC_SUPPORTED
HttpSession_attributeRemoved———————sessionName
servletContext_attributeRemoved—————contextName
request销毁——————————————————————————————
G:\apache-tomcat-7.0.11\bin\catalina.bat stop
Disconnected from the target VM, address: 'javadebug', transport: 'shared memory'
Using CATALINA_BASE:   "D:\bgtidea\.IntelliJIdea\system\tomcat\Unnamed_MonitorListenerDemo"
Using CATALINA_HOME:   "G:\apache-tomcat-7.0.11"
Using CATALINA_TMPDIR: "G:\apache-tomcat-7.0.11\temp"
Using JRE_HOME:        "C:\Program Files\Java\jdk1.7.0_51"
Using CLASSPATH:       "G:\apache-tomcat-7.0.11\bin\bootstrap.jar;G:\apache-tomcat-7.0.11\bin\tomcat-juli.jar"
五月 02, 2018 9:53:07 上午 org.apache.catalina.core.StandardServer await
信息: A valid shutdown command was received via the shutdown port. Stopping the Server instance.
五月 02, 2018 9:53:07 上午 org.apache.coyote.AbstractProtocolHandler pause
信息: Pausing ProtocolHandler ["http-bio-8080"]
五月 02, 2018 9:53:08 上午 org.apache.coyote.AbstractProtocolHandler pause
信息: Pausing ProtocolHandler ["ajp-bio-8009"]
五月 02, 2018 9:53:09 上午 org.apache.catalina.core.StandardService stopInternal
信息: Stopping service Catalina
五月 02, 2018 9:53:09 上午 org.apache.coyote.AbstractProtocolHandler stop
销毁结束——————————————————————————————————————————————————————
信息: Stopping ProtocolHandler ["http-bio-8080"]
五月 02, 2018 9:53:09 上午 org.apache.coyote.AbstractProtocolHandler stop
信息: Stopping ProtocolHandler ["ajp-bio-8009"]
Disconnected from server
——————————————————————————————————————————————————————————————————————————————————————————————————
以上为测试结果：测试流程如下：
1.启动服务器：
    ServletRequestListener 加载
2.浏览器第一次请求：localhost:8080/MonitorListenerDemo/index.jsp
    DefineHttpRequestListener 初始化
    ServletRequest_attributeAdded———————org.apache.catalina.ASYNC_SUPPORTED
    servletContext_attributeAdded———————org.apache.jasper.runtime.JspApplicationContextImpl
    HttpSessionListener 创建session
    DefineHttpRequestListener 销毁
3.依次点击init，destory
    因为request在每次请求中都会被销毁，所以
    在replace和remove是只能在当前请求中进行。







